# Ship Codebase Documentation Index

Generated by `/workflows:orient` - comprehensive codebase analysis.

## Quick Start

**New to Ship?** Start here:
1. [Onboarding Guide](onboarding.md) - Setup and first steps
2. [Architecture](architecture.md) - System overview and design
3. [Commands](commands.md) - All available commands

## Core Documentation

| Document | Description |
|----------|-------------|
| [Architecture](architecture.md) | System overview, monorepo structure, unified document model |
| [Data Model](data-model.md) | Database schema, document types, relationships |
| [Patterns](patterns.md) | Established coding patterns to follow |
| [Anti-Patterns](anti-patterns.md) | Patterns to avoid with examples |
| [API Reference](api-reference.md) | REST endpoints and WebSocket protocol |
| [Security](security.md) | Authentication, authorization, compliance |
| [Testing](testing.md) | Test stack, patterns, running tests |
| [Commands](commands.md) | All pnpm and deployment commands |
| [Gotchas](gotchas.md) | Things that might trip you up |
| [Onboarding](onboarding.md) | New developer guide |

## Module Documentation

| Module | Description |
|--------|-------------|
| [Collaboration](modules/collaboration.md) | Real-time editing with Yjs + WebSocket |
| [Editor](modules/editor.md) | TipTap rich text editor system |

## Reference

| Document | Description |
|----------|-------------|
| [FAQ](faq.md) | Frequently asked questions by topic |
| [Diagrams](diagrams.md) | Visual architecture diagrams (Mermaid) |
| [Code Examples](code-examples.md) | Common patterns with real code |
| [Glossary](glossary.md) | Terminology and abbreviations |

## Key Concepts

### Unified Document Model
Everything in Ship is a document. Issues, projects, weeks, wikis - all stored in a single `documents` table with a `document_type` discriminator. See [Data Model](data-model.md).

### 4-Panel Editor Layout
Every document editor uses the same layout:
```
┌────────┬──────────────┬─────────────────────────┬──────────────┐
│ Icon   │ Contextual   │ Main Content            │ Properties   │
│ Rail   │ Sidebar      │ (Editor)                │ Sidebar      │
│ 48px   │ 224px        │ flex-1                  │ 256px        │
└────────┴──────────────┴─────────────────────────┴──────────────┘
```

### Real-time Collaboration
TipTap editor + Yjs CRDTs + WebSocket sync. See [Collaboration Module](modules/collaboration.md).

## Common Tasks

| Task | Documentation |
|------|---------------|
| Add an API endpoint | [Patterns](patterns.md#api-route-patterns) |
| Create a document type | [Onboarding](onboarding.md#creating-a-new-document-type) |
| Write a migration | [Data Model](data-model.md#migrations) |
| Run tests | [Testing](testing.md) |
| Deploy | [Commands](commands.md#deployment-commands) |

## What to Avoid

Before writing code, review:
- [Anti-Patterns](anti-patterns.md) - Don't repeat these mistakes
- [Gotchas](gotchas.md) - Known sharp edges

## External Documentation

These files are in `docs/` (committed to repo):
- `docs/unified-document-model.md` - Canonical data model reference
- `docs/application-architecture.md` - Full architecture decisions
- `docs/document-model-conventions.md` - UI and terminology conventions
- `docs/week-documentation-philosophy.md` - Week workflow

## Quick Reference

### Development
```bash
pnpm dev          # Start api + web
pnpm test         # Unit tests
/e2e-test-runner  # E2E tests (REQUIRED approach)
```

### Database
```bash
pnpm db:migrate   # Run migrations
pnpm db:seed      # Seed test data
```

### Deploy
```bash
./scripts/deploy.sh shadow      # UAT
./scripts/deploy-web.sh shadow
```

### Session Timeouts
- Inactivity: 15 minutes
- Absolute: 12 hours
- (NIST SP 800-63B-4 AAL2 compliance)
